name: CI Summary

on:
  push:
    branches: [ main, develop ]
  pull_request:
    branches: [ main ]

jobs:
  # Wait for all test workflows to complete
  unit-core:
    uses: ./.github/workflows/ci-unit-core.yml
    
  unit-claude:
    uses: ./.github/workflows/ci-unit-claude.yml
    
  unit-tools:
    uses: ./.github/workflows/ci-unit-tools.yml
    
  integration:
    uses: ./.github/workflows/ci-integration.yml
    
  # Summary job that depends on all tests
  build-success:
    needs: [unit-core, unit-claude, unit-tools, integration]
    runs-on: ubuntu-latest
    if: success()
    
    steps:
    - name: All Tests Passed
      run: |
        echo "ðŸŽ‰ All CI checks passed!"
        echo "âœ… Core unit tests passed"
        echo "âœ… Claude service tests passed"
        echo "âœ… Tools tests passed"
        echo "âœ… Integration tests passed"
        echo "âœ… TypeScript compilation successful"
        echo "âœ… Linting passed with no errors"
        echo "âœ… Type checking passed"
        echo "âœ… CLI tool fully functional"
        echo "âœ… Server startup and health check passed"
        echo "âœ… Production readiness verified"
        echo "âœ… Security audit passed"
        echo ""
        echo "ðŸš€ Application is PRODUCTION READY!"